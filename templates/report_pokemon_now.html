{% extends "report.html" %}
{% block title %}Report: Pokemon NOW{% endblock %}
{% block head %}
    {{ super() }}

    <meta http-equiv="refresh" content="10">
{% endblock %}

{% block content %}
    <table cellpadding="0" cellspacing="1" border="0" class="clsTableParent" >
        <tr>
            <td class="clsTableParentBody">
                <table cellpadding="0" cellspacing="1" class="clsTable">
                    <tr class="clsHeader">
                        <td class="clsHeader" rowspan="1" colspan="4">Pokemon</td>
                        <td class="clsHeader" rowspan="1" colspan="4">Respawn</td>
                    </tr>
                    <tr class="clsHeader">
                        <td class="clsHeader">ID</td>
                        <td class="clsHeader">Name</td>
                        <td class="clsHeader">Rarity</td>
                        <td class="clsHeader">Evolution</td>

                        <td class="clsHeader">Count</td>
                        <td class="clsHeader">Min Sec</td>
                        <td class="clsHeader">Max Sec</td>
                        <td class="clsHeader">map</td>
                    </tr>
                    {% for db_row in table %}
                        <tr class="clsBodyRow">
                            <td class="clsBodyRowId">{{ db_row["pokemon_id"] }}</td>
                            <td class="clsBodyRowGuardName">{{ db_row["pokemon_name"] }}</td>
                            <td class="clsBodyRowGuardRarity clsBodyRowGuardRarity_{{ db_row['pokemon_rarity'] }}">{{ db_row["pokemon_rarity_name"] }}</td>
                            <td class="clsBodyRowGuardEvolution clsBodyRowGuardEvolution_{{ db_row['pokemon_evolution'] }}">{{ db_row["pokemon_evolution"] }}</td>

                            <td class="clsBodyRowCount">{{ db_row["respawn_count"] }}</td>
                            <td class="clsBodyRowCount">{{ db_row["respawn_seconds_min"] }}</td>
                            <td class="clsBodyRowCount">{{ db_row["respawn_seconds_max"] }}</td>
                            <td class="clsBodyRowMap"><a href="/?filterPokemon={{ db_row['pokemon_id'] }}&longitude={{ db_row['respawn_longitude'] }}&latitude={{ db_row['respawn_latitude'] }}">map</a></td>
                        </tr>
                    {% endfor %}
                    <tr class="clsHeader">
                        <td class="clsHeader" colspan="4">Всего на карте покемонов</td>
                        <td class="clsBodyRowCount">{{ table|sum(attribute='respawn_count') }}</td>
                        <td class="clsHeader" colspan="3"></td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
{% endblock %}